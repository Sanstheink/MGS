<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>My Profile</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
  <h1>ข้อมูลของฉัน</h1>
  <div id="profileBox" class="card"></div>

  <a id="backBtn" class="btn">← กลับ</a>
</div>

<script>
const params = new URLSearchParams(window.location.search);
const name = params.get("name");

document.getElementById("backBtn").href =
  `index.html?name=${encodeURIComponent(name)}`;

fetch("data/users.json")
  .then(r => r.json())
  .then(users => {
    const u = users[name];
    document.getElementById("profileBox").innerHTML = `
      <p><b>ชื่อ:</b> ${name}</p>
      <p><b>ตำแหน่ง:</b> ${u?.role || "-"}</p>
      <p><b>หน่วยงาน:</b> ${u?.org || "-"}</p>
      <p><b>Email:</b> ${u?.email || "-"}</p>
    `;
  });
</script>

</body>
</html>
